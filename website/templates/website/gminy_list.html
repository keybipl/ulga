{% extends "website/base.html" %}
{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/gminy_list.css' %}">
{% endblock extra_css %}
{% block title %}
    Gminy objęte Polską Strefą Inwestycji
{% endblock title %}
{% block content %}
    <!-- Hero Section -->
    <section class="gminy-hero">
        <div class="container">
            <h1><i data-lucide="building-2" style="width:36px;height:36px;vertical-align:middle;margin-right:12px"></i>Baza Gmin Polskiej Strefy Inwestycji</h1>
            <p>
                Przeglądaj wszystkie 2479 gmin w Polsce z informacją o intensywności pomocy publicznej i minimalnych nakładach inwestycyjnych
            </p>
        </div>
    </section>
    <div class="psi-page">
        <div class="gminy-wrapper">
            <div class="gminy-container">
                <div class="controls">
                    <div class="filter-group">
                        <label for="wojewodztwoSelect">Województwo:</label>
                        <select id="wojewodztwoSelect">
                            <option value="">-- Wybierz województwo --</option>
                            {% for wojewodztwo in wojewodztwa %}<option value="{{ wojewodztwo }}">{{ wojewodztwo }}</option>{% endfor %}
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="powiatSelect">Powiat:</label>
                        <select id="powiatSelect" disabled>
                            <option value="">-- Wybierz najpierw województwo --</option>
                        </select>
                    </div>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Szukaj gminy..." disabled>
                    </div>
                    <button id="clearFilters" class="clear-btn">Wyczyść filtry</button>
                </div>
                <div id="hintMessage" class="hint-message hidden"><i data-lucide="lightbulb" style="width:16px;height:16px;vertical-align:middle;margin-right:6px;color:var(--navy-dark)"></i>Kliknij w wiersz z gminą, aby zobaczyć szczegółowe informacje</div>
                <div class="table-container">
                    <div id="loadingMessage" class="loading-message">
                        <p><i data-lucide="hand" style="width:20px;height:20px;vertical-align:middle;margin-right:8px;color:var(--navy-dark)"></i>Wybierz województwo, aby zobaczyć gminy</p>
                    </div>
                    <table id="gminaTable" class="hidden">
                        <thead>
                            <tr>
                                <th>Województwo</th>
                                <th>Powiat</th>
                                <th>Gmina</th>
                                <th>Rodzaj</th>
                                <th>Intensywność pomocy</th>
                                <th>Minimalne nakłady</th>
                            </tr>
                        </thead>
                        <tbody id="gminaTableBody">
                            <!-- Wiersze będą wczytywane przez AJAX -->
                        </tbody>
                    </table>
                </div>
                <script src="{% static 'js/gminy_list.js' %}"></script>
            </div>
        </div>
    </div>
{% endblock content %}
